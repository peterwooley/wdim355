<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ajax: Stronger than dirt!</title>
		<script>
			function createRequestObject() {
			    var ro;
			    var browser = navigator.appName;
			    if(browser == "Microsoft Internet Explorer"){
			        ro = new ActiveXObject("Microsoft.XMLHTTP");
			    }else{
			        ro = new XMLHttpRequest();
			    }
			    return ro;
			}

			var http = createRequestObject();

			function sndReq(action) {
			    http.open('get', action + '.txt');
			    http.onreadystatechange = handleResponse;
			    http.send(null);
				}

			function handleResponse() {
			    if(http.readyState == 4){
			        var response = http.responseText;
			        var update = new Array();

			        if(response.indexOf('|') != -1) {
			            update = response.split('|');
			            document.getElementById(update[0]).innerHTML = update[1];
			        }
			    }
			}
		</script>
	</head>
	<body>
		<a href="javascript:sndReq('foo')">[foo]</a>
		<a href="javascript:sndReq('bar')">[bar]</a>
		
		<div id="foo">
		</div>
	</body>
</html>